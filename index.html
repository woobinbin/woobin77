<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="images/nexon_logo.png">
    <title>넥슨</title>
    <link rel="stylesheet" href="css/nexon-styles.css">
    <link rel="stylesheet" href="css/reset.css">
    <script src="js/game-filter.js" defer></script>
    <script src="js/viewtoggle.js" defer></script>
    <script src="js/search.js" defer></script>
</head>
<body>
    <header class="header">
        <a href="index.html">
            <img src="images/logo_nexon.png" alt="NEXON" class="logo">
        </a>

         <div class="user-info" style="display: none;">
        <button class="logout-button">로그아웃</button>
        <span><img src="images/nexon_logo.png" alt="" class="user-logo"> <span class="user-nickname"></span></span>
        <a href="mypage.html" class="mypage-link">마이페이지</a>
        
    </div>
        <div class="auth-buttons">
            <a href="signup.html">회원가입</a>
            <a href="login.html">로그인</a>
        </div>
    </header>

    <div class="welcome-message" style="display: none; padding: 20px 40px; font-size: 18px;"></div>

    <section class="main-banner">
        <div class="banner-content">
            <div class="banner-images">
                <img src="images/home_banner.png" alt="배너 1" class="banner-image">
                <img src="images/home_banner2.jpg" alt="배너 2" class="banner-image">
                <img src="images/home_banner3.jpg" alt="배너 3" class="banner-image">
                <img src="images/home_banner4.png" alt="배너 4" class="banner-image">
                <img src="images/home_banner5.jpg" alt="배너 5" class="banner-image">
            </div>
            <div class="banner-indicators">
                <div class="indicator-item active">
                    <div class="indicator-text">My 데스크 패드 open</div>
                    <div class="indicator-bar">
                        <div class="indicator-progress"></div>
                    </div>
                </div>
                <div class="indicator-item">
                    <div class="indicator-text">블루 아카이브 헌혈..</div>
                    <div class="indicator-bar">
                        <div class="indicator-progress"></div>
                    </div>
                </div>
                <div class="indicator-item">
                    <div class="indicator-text">좀비 히어로 클래식 업데..</div>
                    <div class="indicator-bar">
                        <div class="indicator-progress"></div>
                    </div>
                </div>
                <div class="indicator-item">
                    <div class="indicator-text">블루 아카이브 x 무신사 콜..</div>
                    <div class="indicator-bar">
                        <div class="indicator-progress"></div>
                    </div>
                </div>
                <div class="indicator-item">
                    <div class="indicator-text">[던전앤파이터]키메라,패러...</div>
                    <div class="indicator-bar">
                        <div class="indicator-progress"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="best-content">
        <h1 class="section-title">추천게임</h1>
        <p class="best-category">#최근에 많이 검색된
            <div class="btn">
        <a href="#"><span>고객센터</span></a>
        <a href="#"><span>보안센터</span></a>
        <a href="#"><span>넥슨 PC방 찾기</span></a>
        </div>
        </p>
        <div class="best-list">
        <div class="best-game">
        <ul class="best-game-list">
            <li class="best-card">
            <div class="best-card-img">
                <img src="images/nexon_best1.jpg" alt="">
            </div>
            <div class="best-card-text">
            <p class="best-card-category">추천</p>
            <h3 class="best-card-title">메이플스토리</h3>
            </div>
            </li>

            <li class="best-card">
            <div class="best-card-img">
                <img src="images/nexon_best2.jpg" alt="">
            </div>
            <div class="best-card-text">
            <p class="best-card-category">추천</p>
            <h3 class="best-card-title">바람의나라</h3>
            </div>
            </li>

            <li class="best-card">
            <div class="best-card-img">
                <img src="images/nexon_best3.png" alt="">
            </div>
            <div class="best-card-text">
            <p class="best-card-category">추천</p>
            <h3 class="best-card-title">서든어택</h3>
            </div>
            </li>

            <li class="best-card">
            <div class="best-card-img">
                <img src="images/nexon_best4.png" alt="">
            </div>
            <div class="best-card-text">
            <p class="best-card-category">추천</p>
            <h3 class="best-card-title">던전앤파이터</h3>
            </div>
            </li>
        </ul>
        </div>
        
        <!-- 현대카드 배너 -->
        <div class="nexon-hyundai">
            <img src="images/nexon_hyundai.png" alt="">
        </div>

        <div class="nexon-login">
            <a href="login.html" class="ID-login">ID 로그인</a>
            <div class="other-login">
                <a href="onetimelogin.html" class="one-login">일회용 로그인</a>
                <a href="qrlogin.html" class="qr-login">QR 로그인</a>
            </div>
            <div class="tpa">
            <p>다른 계정 간편 로그인</p>
  <div class="icons">
    <a href="#"><img src="images/google_logo.png" alt="Google"></a>
    <a href="#"><img src="images/facebook_logo.png" alt="Facebook"></a>
    <a href="#"><img src="images/naver_logo.png" alt="Naver"></a>
    <a href="#"><img src="images/apple-logo.png" alt="Apple"></a>
  </div>
</div>

            <!-- 로그인 전 박스 -->
            <div class="nexon-login-text">
                <div class="find">
                <a href="find-id.html">넥슨 ID찾기</a>
                <a href="find-password.html">비밀번호 찾기</a>
                </div>
                <a href="signup.html"><span class="nexon-signup">회원가입</span></a>
            </div>

        </div>

        <!-- 로그인 후 캐시/보안 박스 -->
    <div class="user-status-box">
        <div class="user-tab-box">
        <div class="tab-buttons">
    <button class="tab-button active" data-tab="cash-tab">캐시/보안</button>
    <button class="tab-button" data-tab="mygame-tab">MY게임 소식</button>
    </div>
    

    <div id="cash-tab" class="tab-content active">
  <div class="info-title"><b>캐시/보안</b></div>
  <div class="info">
    <p>넥슨캐시 <b>148</b></p>
    <p>플레이포인트 <b>142</b></p>
    <div class="grade"><span class="circle">A</span> 정상</div>
  </div>
  <div class="status-buttons">
    <button>충전</button>
    <button>자동충전</button>
    <button>보안센터</button>
  </div>
</div>

    <div id="mygame-tab" class="tab-content">
    <div class="news-wrapper">
        <div class="news-card">
    <img src="images/nexon-notice1.png" alt="이벤트1" />
    <div class="news-overlay">
      <div class="news-top">
        <span class="news-badge">이벤트</span>
        <span class="news-date">25-07-03 ~ 25-08-28</span>
      </div>
      <div class="news-text">
        <p class="news-title">퀵 스타트 이벤트</p>
        <p class="news-desc">던전 5분 만에 마스터 클래스까지!</p>
        <div class="news-footer">
            <div class="news-icon">
            <img src="images/nexon-notice-title1.png"/>
            </div>
          <span class="news-game">엘소드</span>
        </div>
      </div>
    </div>
  </div>
  
   <div class="news-card">
    <img src="images/nexon-notice2.jpg" alt="이벤트2" />
    <div class="news-overlay">
      <div class="news-top">
        <span class="news-badge">이벤트</span>
        <span class="news-date">25-06-19 ~</span>
      </div>
      <div class="news-text">
        <p class="news-title">메이플 신규 직업 린</p>
        <p class="news-desc">풍성한 성장 지원과 린 굿즈 추첨 기회까지!</p>
        <div class="news-footer">
        <div class="news-icon">
        <img src="images/nexon-notice-title2.jpg" />
        </div>
          <span class="news-game">메이플스토리</span>
        </div>
      </div>
    </div>
  </div>
    </div>
        </div>
    </div>
        
    </section>


    <section class="new-content">
        <h1>신규 게임</h1>
        <div class="new-card">
            <span class="ne">
            <span class="new-early">OBT</span>
            </span>
            
            <div class="new-info">
            <span class="new-title"><span>메이플 퍼즐 : 블록 매치</span></span>
            <span class="icon-pc"></span>
            <span class="icon-mobile"></span>
            <span class="new-category">퍼즐</span>
            </div>
            <span class="new-text">설치 없이 바로 플레이해보세요!</span>
            <div class="new-card-img">
            <img src="images/new-img.png" alt="">
            </div>
        </div>
    </section>

    <main class="main-content">
    <div class="top-bar">
    <div class="left">
      <h1>전체게임</h1>
      <button class="view-icon active" id="gridViewBtn" data-view="grid">🔳</button>
      <button class="view-icon" id="listViewBtn"  data-view="list">📃</button>
       <div class="center">
      <a href="#">📢 모바일게임 커뮤니티 모아보기 <span>↗</span></a>
    </div>
    </div>

   

    <div class="right">
      <input type="text" id="search-input"  placeholder="게임명 검색">
      <button class="search-btn">🔍</button>
    </div>
  </div>
        <div class="view-tab">
        <button class="tag active">#전체</button>
        <button class="tag">#Windows</button>
        <button class="tag">#레이싱</button>
        <button class="tag">#FPS</button>
        <button class="tag">#액션RPG</button>
        <button class="tag">#캐주얼</button>
        <button class="tag">#Steam</button>
        <button class="tag">#RPG</button>
        <button class="tag">#모바일</button>
        <!-- 계속 추가 -->
</div>

        <div class="game-grid">
            <a href="elsword.html" class="game-card" data-tags="#액션RPG,#Windows">
                <img src="images/elsword_title.png" alt="엘소드" class="game-image">
                <div class="game-info">
                    <h3 class="game-title">엘소드</h3>
                    <p class="game-category">액션 RPG</p>
                </div>
            </a>
            <a href="dungeon.html" class="game-card">
                <img src="images/dungeon_title.jpg" alt="던전앤파이터" class="game-image" data-tags="#액션RPG,#Windows">
                <div class="game-info">
                    <h3 class="game-title">던전앤파이터</h3>
                    <p class="game-category">액션 RPG</p>
                </div>
            </a>
            <a href="#" class="game-card" data-tags="#FPS,#Windows">
                <img src="images/counter_title.jpg" alt="카운터 스트라이크 온라인" class="game-image">
                <div class="game-info">
                    <h3 class="game-title">카운터-스트라이크 온라인</h3>
                    <p class="game-category">FPS</p>
                </div>
            </a>
            <a href="#" class="game-card" data-tags="#RPG,#모바일">
                <img src="images/blue_title.jpg" alt="블루 아카이브" class="game-image">
                <div class="game-info">
                    <h3 class="game-title">블루 아카이브</h3>
                    <p class="game-category">수집형 RPG</p>
                </div>
            </a>
            <a href="#" class="game-card" data-tags="#액션RPG,#Windows">
                <img src="images/khazan_title.png" alt="퍼스트 버서커 : 카잔" class="game-image">
                <div class="game-info">
                    <h3 class="game-title">퍼스트 버서커 : 카잔</h3>
                    <p class="game-category">하드코어 액션 RPG</p>
                </div>
            </a>
            <a href="#" class="game-card" data-tags="#캐주얼,#Windows">
                <img src="images/crazy_title.png" alt="크레이지 아케이드" class="game-image">
                <div class="game-info">
                    <h3 class="game-title">크레이지 아케이드</h3>
                    <p class="game-category">캐주얼</p>
                </div>
            </a>
            <a href="#" class="game-card" data-tags="#Steam,#Windows">
                <img src="images/thefirst.png" alt="퍼스트 디센던트" class="game-image">
                <div class="game-info">
                    <h3 class="game-title">퍼스트 디센던트</h3>
                    <p class="game-category">루트슈터</p>
                </div>
            </a>
            <a href="#" class="game-card" data-tags="#RPG,#모바일">
                <img src="images/maplem.png" alt="메이플스토리M" class="game-image">
                <div class="game-info">
                    <h3 class="game-title">메이플스토리M</h3>
                    <p class="game-category">RPG</p>
                </div>
            </a>

            <a href="#" class="game-card" data-tags="#FPS,#Windows">
                <img src="images/sudden.jpg" alt="서든어택" class="game-image">
                <div class="game-info">
                    <h3 class="game-title">서든어택</h3>
                    <p class="game-category">FPS</p>
                </div>
            </a>

            <a href="#" class="game-card" data-tags="#레이싱,#Windows">
                <img src="images/dript.png" alt="카트라이더: 드리프트" class="game-image">
                <div class="game-info">
                    <h3 class="game-title">카트라이더: 드리프트</h3>
                    <p class="game-category">레이싱</p>
                </div>
            </a>

            <a href="#" class="game-card" data-tags="#스포츠,#Windows">
                <img src="images/FC_logo.png" alt="FC 온라인" class="game-image">
                <div class="game-info">
                    <h3 class="game-title">FC 온라인</h3>
                    <p class="game-category">스포츠</p>
                </div>
            </a>

            <a href="#" class="game-card" data-tags="#액션RPG,#Windows">
                <img src="images/baram.png" alt="바람의나라" class="game-image">
                <div class="game-info">
                    <h3 class="game-title">바람의나라</h3>
                    <p class="game-category">RPG</p>
                </div>
            </a>

             <a href="#" class="game-card" data-tags="#RPG,#Windows">
                <img src="images/maple.jpg" alt="메이플스토리" class="game-image">
                <div class="game-info">
                    <h3 class="game-title">메이플스토리</h3>
                    <p class="game-category">RPG</p>
                </div>
            </a>

             <a href="#" class="game-card" data-tags="#RPG,#Windows,#Steam">
                <img src="images/dave_logo.png" alt="데이브 더 다이버" class="game-image">
                <div class="game-info">
                    <h3 class="game-title">데이브 더 다이버</h3>
                    <p class="game-category">어드벤처 RPG</p>
                </div>
            </a>
        </div>


        <div class="game-list-view" style="display: none;">
  <div class="genre-section">
    <h2>RPG</h2>
    <ul>
      <li><img src="images/maplem.png" alt=""> 메이플스토리M</li>
      <li><img src="images/blue_title.jpg" alt=""> 블루 아카이브</li>
      <li><img src="images/baram.png" alt=""> 바람의나라</li>
    </ul>
  </div>
  <div class="genre-section">
    <h2>액션 RPG</h2>
    <ul>
      <li><img src="images/dungeon_title.jpg" alt=""> 던전앤파이터</li>
      <li><img src="images/khazan_title.png" alt=""> 퍼스트 버서커: 카잔</li>
      <li><img src="images/elsword_title.png" alt=""> 엘소드</li>
    </ul>
  </div>
  <!-- 필요 시 장르 계속 추가 -->
</div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="#">이용약관</a>
                <a href="#" class="important">개인정보처리방침</a>
                <a href="#">청소년보호정책</a>
                <a href="#">회원탈퇴</a>
                <a href="#">고객센터</a>
            </div>
            <p class="copyright">© NEXON Korea Corporation All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // 로그인 관련 요소들
const userInfo = document.querySelector('.user-info');
const guestLinks = document.querySelector('.auth-buttons');
const userNickname = document.querySelector('.user-nickname');
const logoutButton = document.querySelector('.logout-button');

// ✅ 로그인 후 메인 콘텐츠 전환 관련 요소들 (항상 상단에서 선언)
const guestBox = document.querySelector('.nexon-login');
const userBox = document.querySelector('.user-status-box');
const sectionTitle = document.querySelector('.section-title');
const hyundaiBanner = document.querySelector('.nexon-hyundai');

// 로그인 상태 관리 (요소가 존재할 때만 처리)
if (userInfo && guestLinks && userNickname) {
  const loggedInUser = sessionStorage.getItem('loggedInUser');

  if (loggedInUser) {
    const user = JSON.parse(loggedInUser);
    userNickname.textContent = `${user.nickname}`;
    userInfo.style.display = 'flex';
    guestLinks.style.display = 'none';

    if (sectionTitle) {
      sectionTitle.innerHTML = `
        <span style="color: #0077ff; font-weight: 700;">${user.nickname}</span> 님, 어서오세요
        <span style="font-size: 12px; color: gray; margin-left: 5px;">최근 로그인 시간 ${new Date().toLocaleString()}</span>
        <a href="login-history.html" style="font-size: 12px; margin-left: 5px; text-decoration: underline;">로그인내역</a>
      `;
    }

    // 로그인 후 UI
    if (guestBox) guestBox.style.display = 'none';
    if (userBox) userBox.style.display = 'block';
    if (hyundaiBanner) hyundaiBanner.style.display = 'none';
    
  } else {

    // 로그인 전 UI
        userInfo.style.display = 'none';
        guestLinks.style.display = 'flex';
        if (guestBox) guestBox.style.display = 'block';
        if (userBox) userBox.style.display = 'none';
        if (hyundaiBanner) hyundaiBanner.style.display = 'block';
  }

  // 로그아웃 처리
  if (logoutButton) {
    logoutButton.addEventListener('click', () => {
      sessionStorage.removeItem('loggedInUser');
      userInfo.style.display = 'none';
      guestLinks.style.display = 'flex';
      if (guestBox) guestBox.style.display = 'block';
      if (userBox) userBox.style.display = 'none';
      if (hyundaiBanner) hyundaiBanner.style.display = 'block';
      window.location.reload();
    });
  }
}

const tabButtons = document.querySelectorAll('.tab-button');
const tabContents = {
  cash: document.getElementById('cash-tab'),
  news: document.getElementById('mygame-tab')
};

tabButtons.forEach(btn => {
  btn.addEventListener('click', () => {
   const selected = btn.dataset.tab;

    // 버튼 active 토글
    tabButtons.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');

    // 콘텐츠 표시 전환
     Object.values(tabContents).forEach(content => {
      content.classList.toggle('active', content.id === selected);
  });
});

            // 배너 슬라이더 기능
            const bannerImages = document.querySelector('.banner-images');
            const indicators = document.querySelectorAll('.indicator-item');

            // 배너 관련 요소가 존재할 때만 슬라이더 기능 초기화
            if (bannerImages && indicators.length > 0) {
                let currentSlide = 0;
                const totalSlides = indicators.length;
                let isAnimating = false;

                // 슬라이드 업데이트 함수
                function updateSlide(newIndex, skipAnimation = false) {
                    if (isAnimating && !skipAnimation) return;
                    isAnimating = true;
                    
                    currentSlide = newIndex;
                    
                    // 이미지 슬라이드 이동
                    bannerImages.style.transform = `translateX(-${currentSlide * (100 / totalSlides)}%)`;
                    
                    // 인디케이터 업데이트
                    indicators.forEach((indicator, index) => {
                        const progress = indicator.querySelector('.indicator-progress');
                        if (index === currentSlide) {
                            indicator.classList.add('active');
                            // 프로그레스 바 리셋 및 재시작
                            if (progress) {
                                progress.style.animation = 'none';
                                progress.offsetHeight; // 리플로우 강제
                                progress.style.animation = 'progress 5s linear forwards';
                                
                                // 프로그레스 바 애니메이션 완료 시 다음 슬라이드로 이동
                                progress.addEventListener('animationend', function onAnimationEnd() {
                                    progress.removeEventListener('animationend', onAnimationEnd);
                                    if (!document.hidden) {
                                        const nextSlideIndex = (currentSlide + 1) % totalSlides;
                                        updateSlide(nextSlideIndex);
                                    }
                                }, { once: true });
                            }
                        } else {
                            indicator.classList.remove('active');
                            // 다른 프로그레스 바 리셋
                            if (progress) {
                                progress.style.animation = 'none';
                            }
                        }
                    });

                    // 트랜지션 완료 후 isAnimating 플래그 리셋
                    setTimeout(() => {
                        isAnimating = false;
                    }, 500);
                }

                // 인디케이터 클릭 이벤트
                indicators.forEach((indicator, index) => {
                    indicator.addEventListener('click', () => {
                        if (currentSlide !== index) {
                            updateSlide(index);
                        }
                    });
                });

                // 마우스가 배너 위에 있을 때 애니메이션 일시 정지
                bannerImages.addEventListener('mouseenter', () => {
                    const currentProgress = indicators[currentSlide].querySelector('.indicator-progress');
                    if (currentProgress) {
                        currentProgress.style.animationPlayState = 'paused';
                    }
                });

                // 마우스가 배너를 벗어났을 때 애니메이션 재개
                bannerImages.addEventListener('mouseleave', () => {
                    const currentProgress = indicators[currentSlide].querySelector('.indicator-progress');
                    if (currentProgress) {
                        currentProgress.style.animationPlayState = 'running';
                    }
                });

                // 페이지 숨김/표시 상태 변경 시 처리
                document.addEventListener('visibilitychange', () => {
                    const currentProgress = indicators[currentSlide].querySelector('.indicator-progress');
                    if (currentProgress) {
                        if (document.hidden) {
                            currentProgress.style.animationPlayState = 'paused';
                        } else {
                            currentProgress.style.animationPlayState = 'running';
                        }
                    }
                });

                // 초기 슬라이드 설정
                updateSlide(0, true);
            }
        });
         });
    </script>
</body>
</html> 